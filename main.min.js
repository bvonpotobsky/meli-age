function pad(e){return e<10?"0"+e:e}function formatDate(e){return pad(e.getUTCDate())+"/"+pad(e.getUTCMonth()+1)+"/"+e.getUTCFullYear()}function getDifference(e,a){var l=moment(e),t=moment(a);if(!0===l.isValid()&&!0===t.isValid()){var i=t.diff(l,"years"),s=t.diff(l,"months")-12*i;l.add(i,"years").add(s,"months");var r=t.diff(l,"days");return{y:i,m:s,d:r}}}$(document).ready(function(){$("#main-btn").click(function(){$("#result").hide();let e=$("#nickname").val(),a=$("#hidden_site").val();if(""==e||""==a)return $("#result").html("<p>Elegí tu país e ingresá tu usuario/apodo/nickname 🤔</p>"),$("#result").show(),$("#share").html(""),$("#share").hide(),!1;let l="https://api.mercadolibre.com/sites/"+a+"/search?nickname="+e.trim();$.getJSON(l,function(e){if(void 0===e.seller)$("#result").html("<p>No encontre el usuario/apodo/nickname 😢</p>"),$("#share").html(""),$("#share").hide(),$("#result").show();else{var a=getDifference(new Date(e.seller.registration_date),new Date);let l="<p>Te registraste el "+formatDate(new Date(e.seller.registration_date))+"</p>";l+="<p>Estas usando Mercado Libre hace ",a.y>0&&(l+=a.y+(a.y>1?" años":" año")),a.m>0&&(l+=", "+a.m+(a.m>1?" meses":" mes")),a.d>0&&(l+=" y "+a.d+(a.d>1?" días":" día")),l+="</p>",l+='<p class="divider"></p>';let t=new Date(e.seller.registration_date).getFullYear();l+='<p class="info">Así era el logo de MELI ese año 🚀 </p>',l+='<p><img src="img/'+t+'_logo-min.png" class="logo" ></p>',l+="<p></p>",l+='<p class="info">Y esta era la home del sitio en ese momento 👀 👀 </p>',l+='<p><a href="img/'+t+'_full-min.png" target="_blank"><img src="img/'+t+'_full-min.png" class="website" ></a></p>';let i="Yo uso Mercado Libre hace ";a.y>0&&(i+=a.y+(a.y>1?" años":" año")),a.m>0&&(i+=", "+a.m+(a.m>1?" meses":" mes")),a.d>0&&(i+=" y "+a.d+(a.d>1?" días":" día")),i+=" ¿Y vos? Averigualo entrando en -> ",$("#share").html('<a class="twitter-share-button" href="https://twitter.com/intent/tweet" data-size="large"  data-url="https://chcibelli.github.io/meli-how-old-are-u/" data-text="'+i+'">Tweet</a>'),twttr.widgets.load(),$("#result").html(l),$("#result, #share").show()}})}),$("#nickname").on("keypress",function(e){13==e.which&&$("#main-btn").click()});var e=[{label:"Argentina",value:"MLA"},{label:"Bolivia",value:"MBO"},{label:"Brasil",value:"MLB"},{label:"Chile",value:"MLC"},{label:"Colombia",value:"MCO"},{label:"Costa Rica",value:"MCR"},{label:"Cuba",value:"MCU"},{label:"Dominicana",value:"MRD"},{label:"Ecuador",value:"MEC"},{label:"Guatemala",value:"MGT"},{label:"Honduras",value:"MHN"},{label:"Mexico",value:"MLM"},{label:"Nicaragua",value:"MNI"},{label:"Panama",value:"MPE"},{label:"Paraguay",value:"MPY"},{label:"Perú",value:"MPE"},{label:"Paraguay",value:"MPE"},{label:"Uruguay",value:"MLU"},{label:"Venezuela",value:"MLV"}];$("#site").autocomplete({source:e,select:function(e,a){return $("#hidden_site").val(a.item.value),$("#site").val(a.item.label),!1}})});